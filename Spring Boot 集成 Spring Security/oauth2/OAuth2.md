# OAuth2

### 什么是OAuth2？


OAuth 是一个开放标准，允许用户授权第三方应用访问他们在某网站上存储的私密资源（ex:用户昵称、头像等），在这个过程中无需将用户名和密码提供给第三方应用。

即以令牌token换资源信息数据。

### 应用场景

第三方应用授权登录，ex：、微信授权登录

### 四种授权模式

#### 1. 授权码模式（authorization code）

> 常用模式，主流第三方验证

1. 第三方应用引导用户跳转到授权服务器的授权页面，授权后，授权服务器生成认证码code，然后携带code重定向返回
2. 第三方应用使用认证码code和自身应用凭证(app_id和app_secret)到授权服务器换取访问令牌(access_token)和更新令牌(refresh_token)
3. 第三方应用使用访问令牌(access_token)去资源服务器获取资源信息(ex:用户昵称，头像等)

#### 2. 简化模式（implicit）

> 适用于只有前端，前端单方面即可完成

1. 用户在第三方网站上点击授权跳转授权服务器，授权后，携带访问令牌(access_token)返回第三方网站
2. 第三方网站再携带 access_token 去资源服务器获取用户信息(昵称，头像等)

#### 3. 密码模式（resource owner password credentials）

> 适用于自家公司搭建的授权服务器，给兄弟公司用

直接使用用户名/密码从授权服务器获取访问令牌(access_token)

#### 4. 客户端模式（client credentials）

> 此过程中无需用户参与，此模式一般用于提供给完全信任的服务端服务

客户端请求就返回访问令牌(access_token)

### 
